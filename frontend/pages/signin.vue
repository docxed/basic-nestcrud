<template>
  <v-container fluid fill-height>
    <v-row no-gutters justify="center" align="center">
      <v-col cols="12" sm="5">
        <div class="my-auto mx-3 text-center">
          <p class="display-2 font-weight-black">ðŸš€ Nest</p>
        </div>
      </v-col>
      <v-col cols="12" sm="7">
        <v-card class="my-10">
          <v-card-title>à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™</v-card-title>
          <v-card-text>
            <v-form ref="form">
              <v-text-field
                color="purple"
                v-model="form.email"
                :rules="[$rules.required, ...$rules.emailRules]"
                label="à¸­à¸µà¹€à¸¡à¸¥"
              />
              <v-text-field
                color="purple"
                type="password"
                v-model="form.password"
                :rules="[$rules.required]"
                label="à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™"
              />
              <v-card-actions>
                <v-spacer />
                <v-btn color="purple white--text" @click="submit()"> à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š </v-btn>
              </v-card-actions>
            </v-form>
          </v-card-text>
        </v-card>
      </v-col>
    </v-row>
  </v-container>
</template>
<script>
import { mapGetters } from 'vuex'
export default {
  layout: 'full-screen',
  head() {
    return {
      title: 'à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™',
      meta: [
        {
          hid: 'ZTX App - à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™',
          name: 'ZTX App - à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™',
          content: 'ZTX App | à¸¥à¸‡à¸Šà¸·à¹ˆà¸­à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™',
        },
      ],
    }
  },
  data: () => ({
    loading: false,
    form: {
      email: '',
      password: '',
    },
  }),
  computed: {
    ...mapGetters('messages', ['getMessage']),
  },
  methods: {
    async submit() {
      this.$loader(true)
      try {
        await this.$axios.post('/auth/signin', this.form)
        this.messages({
          title: 'à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ',
          message: 'à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ',
          color: 'success',
        })
      } catch (error) {
        console.error(error)
      }
      this.$loader(false)
    },
  },
}
</script>
